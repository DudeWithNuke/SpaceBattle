---
apply: always
---

---
id: entity_placeable_object
type: entity
domain: battlefield
aliases:
- placeable object
- размещаемый объект
- располагаемый объект
tags:
- battlefield
- grid
- interaction
- placement
- ships
- abilities
related:
- entity_cell
- entity_cell_grid
- entity_cursor_plane
---

# Placeable Object

## Определение
**Placeable Object** — это любой игровой объект, который игрок может разместить на игровой сетке (Grid) с использованием Cursor Plane.
Placeable Object является абстракцией для всех объектов, участвующих в механике размещения и взаимодействия с ячейками игрового поля.

---

## Типы Placeable Object
К Placeable Object относятся следующие категории сущностей:
### Корабли
- размещаются на собственном игровом поле игрока
- занимают набор соседних ячеек в соответствии с форм-фактором корпуса
- не могут перекрывать друг друга
### Способности с форм-фактором
- временные объекты, размещаемые на игровом поле
- используются для атаки, разведки или других воздействий
- могут применяться на вражеском игровом поле

Примеры:
- AoE атака
- разведка области
- другие способности, требующие выбора области воздействия

---

## Форм-фактор
Каждый Placeable Object может обладать форм-фактором — набором ячеек относительно точки размещения.
Форм-фактор используется для:
- определения занимаемых ячеек
- проверки допустимости размещения
- вычисления пересечений с кораблями или другими объектами

---

## Взаимодействие и логика применения

### Способности
При подтверждении размещения способности:
1. Проверяется пересечение форм-фактора способности с форм-факторами кораблей
2. Для каждой затронутой ячейки производится логический расчёт воздействия
3. При атаке учитываются парные характеристики:
  - точность атакующего корабля
  - сопротивление корабля-цели
4. Применяются эффекты способности (урон, дебафф, разведка и т.д.)

### Рассеивание тумана войны
После применения способности туман войны **гарантированно рассеивается** на всех ячейках, входящих в форм-фактор способности:
- это происходит **независимо от успешности атаки**
- даже если корабль не получил урон из-за сопротивления, область считается демаскированной
- игрок получает информацию о том, были ли в зоне воздействия корабли
Таким образом, любая атакующая способность одновременно выполняет роль частичной разведки.

5. После применения эффекта Placeable Object способности удаляется с поля
Для чисто разведывательных способностей применяется аналогичная логика раскрытия области, но без боевых расчётов.

---

## Состояния Placeable Object
Placeable Object может находиться в одном из следующих состояний:
- **Picked**  
  Объект захвачен курсором и перемещается по активному слою Grid
- **Placed**  
  Объект размещён на игровом поле  
  Может быть повторно подобран, если это разрешено правилами

---

## Правила размещения
- Два и более Placeable Object типа **корабль** не могут занимать одну и ту же ячейку
- Placeable Object типа **способность** могут перекрывать:
  - корабли
  - другие способности
- Проверка допустимости размещения выполняется до подтверждения действия игроком

---

## Технические примечания
- Placeable Object представлен Unity Prefab
- Каждый Prefab обладает Collider’ом
- Collider используется исключительно для:
  - определения пересечений
  - проверки форм-фактора
- Физическое взаимодействие Unity не является частью боевой логики

---

## Расширяемость
Placeable Object является расширяемой абстракцией.  
Допускается:
- добавление новых типов размещаемых объектов
- переопределение логики применения
- усложнение форм-факторов и эффектов
